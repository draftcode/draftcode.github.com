---
layout: post
title: LaTeXでTrueTypeフォントを使う
---

和文ボールドゴシックを出すためにTTFを使ってdvipdfmxします。Archlinuxで
TeXLive2013を使っています。

# フォントをKpathseaに認識させる

まずKpathseaが見るtexmfがどこかを認識しましょう。自分の環境では
`/etc/texmf/web2c/texmf.cnf`に書いてありました。通常人間が触るのを許されているの
は`$TEXMFLOCAL`です。

次にシステム内でTTFファイルが置かれているディレクトリへのリンクを貼るようにしま
しょう。自分はフォントがあるディレクトリが`/usr/share/fonts/TTF`で`$TEXMFLOCAL`
が`/usr/share/texmf`だったので次のようにしました。

```
mkdir -p /usr/share/texmf/fonts/truetype/public
ln -s /usr/share/fonts/TTF /usr/share/texmf/fonts/truetype/public/system
```

ディレクトリ構成とか名前とかはどうでも良いのだと思います。リンクが張れたらイン
デックスを作るために、`texhash`しましょう。`$TEXMFLOCAL/ls-R`に望んだフォントが
リストアップされているでしょうか。

# LaTeXのソースをいじる

フォントマップを作ったりするのですが、適当に作りましょう。自分が使ったフォント
マップは[日本語フォントのセットアッ
プ](http://www.fugenji.org/~thomas/texlive-guide/font_setup.html)にある
`allfree.map`を参考にしました。自分の環境ではファイル名の大文字小文字が違ってい
たのでそれを修正しました。

フォントマップとtexファイルを同じディレクトリに置いて、`dvipdfmx -f allfree.map
foo.dvi`とすると上手く指定されたフォントが埋め込まれたPDFが作成されました。
`\usepackage[expert, deluxe]{otf}`が無いと指定したフォントが使われないので注意し
てください。
