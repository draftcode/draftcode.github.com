<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta content='IE=edge,chrome=1' http-equiv='X-UA-Compatible'>
    <title>LaTeXでTrueTypeフォントを使う</title>
    <meta content='draftcode' name='author'>
    <meta content='3T_u3CXt1yC2LeNvWOzsMSPQrs_0Ek-XUnA8DYgu7zY' name='google-site-verification'>
    <link href='/css/main.css' rel='stylesheet'>
    <link href='/atom.xml' rel='alternate' title='Atom' type='application/atom+xml'>
    <link href='http://fonts.googleapis.com/css?family=Droid+Sans:400,700|Economica' rel='stylesheet' type='text/css'>
  </head>
  <body>
    <div id='site-title-short'>
      <div class='svg' id='links'>
        <a href='/pages/about.html' id='about'>About</a>
        <a class='fc-webicon twitter' href='http://twitter.com/draftcode'>Twitter</a>
        <a class='fc-webicon github' href='http://github.com/draftcode'>GitHub</a>
        <a class='fc-webicon googleplus' href='https://plus.google.com/107177890582465029754?rel=author'>Google+</a>
        <a class='fc-webicon rss' href='/atom.xml' rel='alternate'>Atom feed</a>
      </div>
      <h1>
        <a href='/'>draftcode.github.io</a>
      </h1>
    </div>
    <div id='content'>
      <div id='article'>
  <div id='content_title'>
    <h1>LaTeXでTrueTypeフォントを使う</h1>
  </div>
  <div id='posted_date'>
    Posted on 2013-08-24
  </div>
  <div id='content_body'>
    <p>和文ボールドゴシックを出すためにTTFを使ってdvipdfmxします。Archlinuxで TeXLive2013を使っています。</p>
<h2>フォントをKpathseaに認識させる</h2>
<p>まずKpathseaが見るtexmfがどこかを認識しましょう。自分の環境では<code>/etc/texmf/web2c/texmf.cnf</code>に書いてありました。通常人間が触るのを許されているのは<code>$TEXMFLOCAL</code>です。</p>

<p>次にシステム内でTTFファイルが置かれているディレクトリへのリンクを貼るようにしましょう。自分はフォントがあるディレクトリが<code>/usr/share/fonts/TTF</code>で<code>$TEXMFLOCAL</code>が<code>/usr/share/texmf</code>だったので次のようにしました。</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">mkdir -p /usr/share/texmf/fonts/truetype/public
ln -s /usr/share/fonts/TTF /usr/share/texmf/fonts/truetype/public/system
</code></pre></div>
<p>ディレクトリ構成とか名前とかはどうでも良いのだと思います。リンクが張れたらインデックスを作るために、<code>texhash</code>しましょう。<code>$TEXMFLOCAL/ls-R</code>に望んだフォントがリストアップされているでしょうか。</p>
<h2>LaTeXのソースをいじる</h2>
<p>フォントマップを作ったりするのですが、適当に作りましょう。自分が使ったフォントマップは<a href="http://www.fugenji.org/%7Ethomas/texlive-guide/font_setup.html">日本語フォントのセットアップ</a>にある<code>allfree.map</code>を参考にしました。自分の環境ではファイル名の大文字小文字が違っていたのでそれを修正しました。</p>

<p>フォントマップとtexファイルを同じディレクトリに置いて、<code>dvipdfmx -f allfree.map
foo.dvi</code>とすると上手く指定されたフォントが埋め込まれたPDFが作成されました。<code>\usepackage[expert, deluxe]{otf}</code>が無いと指定したフォントが使われないので注意してください。</p>

  </div>
</div>
<div id='comments'>
  <div id='disqus_thread'></div>
  <script>
    var disqus_shortname = 'draftcode-github-com';
    
    (function() {
     var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
     dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
     (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
     })();
  </script>
  <noscript>
    Please enable JavaScript to view the
    <a href='http://disqus.com/?ref_noscript'>comments powered by Disqus.</a>
  </noscript>
</div>

    </div>
    <div id='disclaimer'>
      Disclaimer: The opinions stated here are my own, not necessarily those of my company.
    </div>
  </body>
</html>
